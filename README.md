# 跨链服务代理

## 架构图

![img.png](img.png)


图中的同步网关即实现了碳普惠应用链和数币碳普惠链的跨链交互，代理服务会监听应用链上的数据变动并同步到数币链。



监听的时机：


1. 用户 init 以后存储到了 `user_version_snapshot` 表中，其记录所有已授权的用户信息；
2. 通过监听区块链合约中的 topic 来获取用户碳积分余额的变动，现在面临的问题是：
   
    - 监听合约事件是通过区块高度作为起始值进行监听；
    - 